{"ver": "1.0.0", "name": "bananhash", "type": "py", "dependent": [], "installplace": "~/", "code": "import os\nimport json\nimport hashlib\n\ndef update_checksum(filepath):\n    with open(filepath, \"r\") as f:\n        pkg = json.load(f)\n\n    # Remove old checksum if present\n    pkg[\"checksum\"] = \"\"\n\n    # Re-serialize and hash the full content\n    pkg_json = json.dumps(pkg)\n    pkg[\"checksum\"] = hashlib.sha512(pkg_json.encode()).hexdigest()\n\n    # Write back to file\n    with open(filepath, \"w\") as f:\n        f.write(json.dumps(pkg))\n\n    print(f\"Updated checksum for {os.path.basename(filepath)}\")\n\n# Scan current directory for .banapkg files\nfor file in os.listdir(\".\"):\n    if file.endswith(\".banapkg\"):\n        update_checksum(file)\n", "checksum": "e304222b5723ee500870a84a9abc21e0f6f47fff2f1ed090829420d4fae73efc46dc1600102b10ae677a6f7a25320e78ed61c30a2cbfa9cae563d6285816c3e4"}
