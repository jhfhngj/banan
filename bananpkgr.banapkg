{"ver": "1.1.0", "name": "bananpkgr", "type": "py", "dependent": [], "installplace": "~/", "code": "import json\nimport os\nimport hashlib\n\nmtd = {\n  \"ver\": \"\",\n  \"name\": \"\",\n  \"type\": \"\",\n  \"dependent\": [],\n  \"installplace\": \"\",\n  \"code\": \"\",\n  \"checksum\": \"\"\n}\n\nprint(\"Banan PKGr\")\nprint(\"Where is the file to be packaged?\")\nfn = os.path.realpath(os.path.expanduser(os.path.expandvars(input())))\nmtd[\"type\"] = str(os.path.splitext(fn)[1][1:])\nwith open(fn) as f:\n    mtd[\"code\"] = f.read()\n\nprint(\"What shall the package be named? (No spaces)\")\nname = input().replace(\" \", \"\")\nmtd[\"name\"] = name\n\nprint(\"What version is the package?\")\nver = input().replace(\" \", \"\")\nmtd[\"ver\"] = ver\n\nprint(\"What are the dependencies of the packages? If empty, leave blank. (Format like dependency1,dependency2)\")\ndpc = input().replace(\" \", \"\").split(\",\")\nif dpc != [\"\"]:\n    mtd[\"dependent\"] = dpc\n\nprint(\"Where does it install?\")\ninst = input()\nmtd[\"installplace\"] = inst\n\n# Convert to JSON string and hash it\npkg_json = json.dumps(mtd)\nmtd[\"checksum\"] = hashlib.sha512(pkg_json.encode()).hexdigest()\n\n# Write final package with checksum included\nwith open(f\"{os.path.splitext(fn)[0]}.banapkg\", \"w\") as f:\n    f.write(json.dumps(mtd))\n", "checksum": "8f6aa42fa4d868adc5d00f8c59058704a105496e93b08ff1564b4976baaea523b8432c9cfad79870b6fe6a16f2cdd898f430984e31185d623fc77a28345e4d37"}